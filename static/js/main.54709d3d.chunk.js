(this["webpackJsonpmany-worlds"]=this["webpackJsonpmany-worlds"]||[]).push([[0],{5:function(n,t,e){n.exports=e(8)},7:function(n,t,e){},8:function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(4),i=e(1),c=e(2),s=e.n(c);function u(){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function n(){var t;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t={audio:!0,videol:!1},!navigator.mediaDevices.getUserMedia){n.next=6;break}return console.log("Using navigator.mediaDevices"),n.abrupt("return",navigator.mediaDevices.getUserMedia(t));case 6:if(!navigator.webkitGetUserMedia&&!navigator.getUserMedia){n.next=9;break}return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,n.abrupt("return",new Promise((function(n,e){navigator.getUserMedia(t,n,e)})));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d,l=e(3),g=e.n(l);function m(){return m.stats||(m.stats=new g.a),m.stats}var h=function(n){var t=m();n&&!d?(document.body.appendChild(t.dom),t.dom.style.right=0,t.dom.style.left=null,d=requestAnimationFrame((function n(){t.update(),d=requestAnimationFrame(n)}))):!n&&d&&(cancelAnimationFrame(d),d=void 0,document.body.removeChild(t.dom))};e(7),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function n(){var t,e,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return t=n.sent,e=window.AudioContext||window.webkitAudioContext||!1,a=new e,n.abrupt("return",s.a.createMeydaAnalyzer({audioContext:a,bufferSize:512,source:a.createMediaStreamSource(t),windowingFunction:"blackman",featureExtractors:["energy","spectralFlatness"]}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}));var w=Math.pow(2,20);function y(){var n=Math.min(window.innerHeight,window.innerWidth),t=n,e=document.createElement("canvas");e.width=n*devicePixelRatio,e.height=t*devicePixelRatio;var a=(window.innerHeight-t)/2;e.style="width: ".concat(n,"px; height: ").concat(t,"px; margin: ").concat(a,";");var r=e.getContext("webgl",{antialias:!0,depth:!1}),o=function(n){var t=n.createShader(n.VERTEX_SHADER);if(n.shaderSource(t,"\nprecision highp float;\n\nconst float PI = 3.14159265359;\n\nuniform float u_a;\nuniform float u_b;\nuniform float u_c;\nuniform float u_d;\n\nattribute vec2 a_position;\n\nvarying float v_t;\n\nvoid main() {\nfloat x1, x2 = a_position.x;\nfloat y1, y2 = a_position.y;\nfor (int i = 0; i < 8; i++) {\n  x1 = x2, y1 = y2;\n  x2 = sin(u_a * y1) - cos(u_b * x1);\n  y2 = sin(u_c * x1) - cos(u_d * y1);\n}\nv_t = atan(a_position.y, a_position.x) / PI;\ngl_Position = vec4(x2 / 2.0, y2 / 2.0, 0.0, 1.0);\ngl_PointSize = 1.5;\n}\n"),n.compileShader(t),!n.getShaderParameter(t,n.COMPILE_STATUS))throw n.getShaderInfoLog(t);var e=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(e,"\nprecision highp float;\n\nvarying float v_t;\n\nconst float PI = 3.14159265359;\n\nvec3 cubehelix(float x, float y, float z) {\nfloat a = y * z * (1.0 - z);\nfloat c = cos(x + PI / 2.0);\nfloat s = sin(x + PI / 2.0);\nreturn vec3(\n  z + a * (1.78277 * s - 0.14861 * c),\n  z - a * (0.29227 * c + 0.90649 * s),\n  z + a * (1.97294 * c)\n);\n}\n\nvec3 rainbow(float t) {\nif (t < 0.0 || t > 1.0) t -= floor(t);\nfloat ts = abs(t - 0.5);\nreturn cubehelix(\n  (360.0 * t - 100.0) / 180.0 * PI,\n  1.5 - 1.5 * ts,\n  0.8 - 0.9 * ts\n);\n}\n\nvoid main() {\ngl_FragColor = vec4(rainbow(v_t / 4.0 + 0.25), 1.0);\n}\n"),n.compileShader(e),!n.getShaderParameter(e,n.COMPILE_STATUS))throw n.getShaderInfoLog(e);var a=n.createProgram();if(n.attachShader(a,t),n.attachShader(a,e),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw n.getProgramInfoLog(a);return a}(r);r.useProgram(o);var i=new Float32Array(2*w).map((function(){return 2*Math.random()-1})),c=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,i,r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,c);var s=r.getAttribLocation(o,"a_position");r.vertexAttribPointer(s,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(s);var u=document.getElementById("root");return u.style="width: ".concat(n,"px; height: ").concat(t,"px"),u.appendChild(e),{gl:r,program:o}}function x(n,t,e,a,r,o){var i=n.getUniformLocation(t,"u_a"),c=n.getUniformLocation(t,"u_b"),s=n.getUniformLocation(t,"u_c"),u=n.getUniformLocation(t,"u_d");n.uniform1f(i,e),n.uniform1f(c,a),n.uniform1f(s,r),n.uniform1f(u,o)}window.onload=function(){var n=Object(i.a)(r.a.mark((function n(){var t,e,a,i,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),t=y(),e=t.gl,a=t.program,c=0,requestAnimationFrame((function n(t){var r=0,s=0;if(i){var u=i.get(["energy","spectralFlatness"]);r=u?10*u.energy:0,c+=u?u.energy/2:0,s=u?u.spectralFlatness:0}e.drawArrays(e.POINTS,0,w);var f=Math.sin(c+t/1e4)-2,d=Math.floor(c/100)%2===0?[-2,-1.2]:[-2.53,-1.61],l=Object(o.a)(d,2),g=l[0],m=l[1];x(e,a,f,g,m,s<.05?2-r:2),requestAnimationFrame(n)})),n.next=6,v();case 6:i=n.sent;case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}},[[5,1,2]]]);
//# sourceMappingURL=main.54709d3d.chunk.js.map