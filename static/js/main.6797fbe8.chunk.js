(this["webpackJsonpmany-worlds"]=this["webpackJsonpmany-worlds"]||[]).push([[0],[,,,,function(n,e,t){n.exports=t(7)},,function(n,e,t){},function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(1),i=t(2),c=t.n(i);function u(){return s.apply(this,arguments)}function s(){return(s=Object(o.a)(r.a.mark((function n(){var e;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e={audio:!0,videol:!1},!navigator.mediaDevices.getUserMedia){n.next=6;break}return console.log("Using navigator.mediaDevices"),n.abrupt("return",navigator.mediaDevices.getUserMedia(e));case 6:if(!navigator.webkitGetUserMedia&&!navigator.getUserMedia){n.next=9;break}return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,n.abrupt("return",new Promise((function(n,t){navigator.getUserMedia(e,n,t)})));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var f,d=t(3),l=t.n(d);function m(){return m.stats||(m.stats=new l.a),m.stats}var g=function(n){var e=m();n&&!f?(document.body.appendChild(e.dom),e.dom.style.right=0,e.dom.style.left=null,f=requestAnimationFrame((function n(){e.update(),f=requestAnimationFrame(n)}))):!n&&f&&(cancelAnimationFrame(f),f=void 0,document.body.removeChild(e.dom))};t(6),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function n(){var e,t,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:return e=n.sent,t=window.AudioContext||window.webkitAudioContext||!1,a=new t,n.abrupt("return",c.a.createMeydaAnalyzer({audioContext:a,bufferSize:512,source:a.createMediaStreamSource(e),windowingFunction:"blackman",featureExtractors:["energy"]}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}));var p=Math.pow(2,20);function w(){var n=document.createElement("canvas");n.width=780*devicePixelRatio,n.height=780*devicePixelRatio,n.style="width: ".concat(780,"px; height: ").concat(780,"px;");var e=n.getContext("webgl",{antialias:!0,depth:!1}),t=function(n){var e=n.createShader(n.VERTEX_SHADER);if(n.shaderSource(e,"\nprecision highp float;\n\nconst float PI = 3.14159265359;\n\nuniform float u_a;\nuniform float u_b;\nuniform float u_c;\nuniform float u_d;\n\nattribute vec2 a_position;\n\nvarying float v_t;\n\nvoid main() {\nfloat x1, x2 = a_position.x;\nfloat y1, y2 = a_position.y;\nfor (int i = 0; i < 8; i++) {\n  x1 = x2, y1 = y2;\n  x2 = sin(u_a * y1) - cos(u_b * x1);\n  y2 = sin(u_c * x1) - cos(u_d * y1);\n}\nv_t = atan(a_position.y, a_position.x) / PI;\ngl_Position = vec4(x2 / 2.0, y2 / 2.0, 0.0, 1.0);\ngl_PointSize = 1.5;\n}\n"),n.compileShader(e),!n.getShaderParameter(e,n.COMPILE_STATUS))throw n.getShaderInfoLog(e);var t=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(t,"\nprecision highp float;\n\nvarying float v_t;\n\nconst float PI = 3.14159265359;\n\nvec3 cubehelix(float x, float y, float z) {\nfloat a = y * z * (1.0 - z);\nfloat c = cos(x + PI / 2.0);\nfloat s = sin(x + PI / 2.0);\nreturn vec3(\n  z + a * (1.78277 * s - 0.14861 * c),\n  z - a * (0.29227 * c + 0.90649 * s),\n  z + a * (1.97294 * c)\n);\n}\n\nvec3 rainbow(float t) {\nif (t < 0.0 || t > 1.0) t -= floor(t);\nfloat ts = abs(t - 0.5);\nreturn cubehelix(\n  (360.0 * t - 100.0) / 180.0 * PI,\n  1.5 - 1.5 * ts,\n  0.8 - 0.9 * ts\n);\n}\n\nvoid main() {\ngl_FragColor = vec4(rainbow(v_t / 4.0 + 0.25), 1.0);\n}\n"),n.compileShader(t),!n.getShaderParameter(t,n.COMPILE_STATUS))throw n.getShaderInfoLog(t);var a=n.createProgram();if(n.attachShader(a,e),n.attachShader(a,t),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw n.getProgramInfoLog(a);return a}(e);e.useProgram(t);var a=new Float32Array(2*p).map((function(){return 2*Math.random()-1})),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,r);var o=e.getAttribLocation(t,"a_position");return e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o),document.getElementById("root").appendChild(n),{gl:e,program:t}}function y(n,e,t,a,r,o){var i=n.getUniformLocation(e,"u_a"),c=n.getUniformLocation(e,"u_b"),u=n.getUniformLocation(e,"u_c"),s=n.getUniformLocation(e,"u_d");n.uniform1f(i,t),n.uniform1f(c,a),n.uniform1f(u,r),n.uniform1f(s,o)}window.onload=function(){var n=Object(o.a)(r.a.mark((function n(){var e,t,a,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v();case 2:e=n.sent,g(!0),t=w(),a=t.gl,o=t.program,requestAnimationFrame((function n(t){var r=0;if(e){var i=e.get(["energy","perceptualSharpness"]),c=document.getElementById("meyda-debug");r=i?10*i.energy:0,c.innerHTML="".concat(r)}a.drawArrays(a.POINTS,0,p),y(a,o,Math.sin(t/1e3)-2,-2,-1.2,2-r),requestAnimationFrame(n)}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}],[[4,1,2]]]);
//# sourceMappingURL=main.6797fbe8.chunk.js.map