(this["webpackJsonpmany-worlds"]=this["webpackJsonpmany-worlds"]||[]).push([[0],[,,,,function(n,t,e){n.exports=e(7)},,function(n,t,e){},function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(1),i=e(2),c=e.n(i);function s(){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(r.a.mark((function n(){var t;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t={audio:!0,videol:!1},!navigator.mediaDevices.getUserMedia){n.next=6;break}return console.log("Using navigator.mediaDevices"),n.abrupt("return",navigator.mediaDevices.getUserMedia(t));case 6:if(!navigator.webkitGetUserMedia&&!navigator.getUserMedia){n.next=9;break}return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia,n.abrupt("return",new Promise((function(n,e){navigator.getUserMedia(t,n,e)})));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var f,d=e(3),l=e.n(d);function g(){return g.stats||(g.stats=new l.a),g.stats}var m=function(n){var t=g();n&&!f?(document.body.appendChild(t.dom),t.dom.style.right=0,t.dom.style.left=null,f=requestAnimationFrame((function n(){t.update(),f=requestAnimationFrame(n)}))):!n&&f&&(cancelAnimationFrame(f),f=void 0,document.body.removeChild(t.dom))};e(6),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(r.a.mark((function n(){var t,e,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s();case 2:return t=n.sent,e=window.AudioContext||window.webkitAudioContext||!1,a=new e,n.abrupt("return",c.a.createMeydaAnalyzer({audioContext:a,bufferSize:512,source:a.createMediaStreamSource(t),windowingFunction:"blackman",featureExtractors:["energy","spectralFlatness"]}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}));var p=Math.pow(2,20);function w(){var n=document.createElement("canvas");n.width=780*devicePixelRatio,n.height=780*devicePixelRatio;var t=(window.innerHeight-780)/2;n.style="width: ".concat(780,"px; height: ").concat(780,"px; margin: ").concat(t,";");var e=n.getContext("webgl",{antialias:!0,depth:!1}),a=function(n){var t=n.createShader(n.VERTEX_SHADER);if(n.shaderSource(t,"\nprecision highp float;\n\nconst float PI = 3.14159265359;\n\nuniform float u_a;\nuniform float u_b;\nuniform float u_c;\nuniform float u_d;\n\nattribute vec2 a_position;\n\nvarying float v_t;\n\nvoid main() {\nfloat x1, x2 = a_position.x;\nfloat y1, y2 = a_position.y;\nfor (int i = 0; i < 8; i++) {\n  x1 = x2, y1 = y2;\n  x2 = sin(u_a * y1) - cos(u_b * x1);\n  y2 = sin(u_c * x1) - cos(u_d * y1);\n}\nv_t = atan(a_position.y, a_position.x) / PI;\ngl_Position = vec4(x2 / 2.0, y2 / 2.0, 0.0, 1.0);\ngl_PointSize = 1.5;\n}\n"),n.compileShader(t),!n.getShaderParameter(t,n.COMPILE_STATUS))throw n.getShaderInfoLog(t);var e=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(e,"\nprecision highp float;\n\nvarying float v_t;\n\nconst float PI = 3.14159265359;\n\nvec3 cubehelix(float x, float y, float z) {\nfloat a = y * z * (1.0 - z);\nfloat c = cos(x + PI / 2.0);\nfloat s = sin(x + PI / 2.0);\nreturn vec3(\n  z + a * (1.78277 * s - 0.14861 * c),\n  z - a * (0.29227 * c + 0.90649 * s),\n  z + a * (1.97294 * c)\n);\n}\n\nvec3 rainbow(float t) {\nif (t < 0.0 || t > 1.0) t -= floor(t);\nfloat ts = abs(t - 0.5);\nreturn cubehelix(\n  (360.0 * t - 100.0) / 180.0 * PI,\n  1.5 - 1.5 * ts,\n  0.8 - 0.9 * ts\n);\n}\n\nvoid main() {\ngl_FragColor = vec4(rainbow(v_t / 4.0 + 0.25), 1.0);\n}\n"),n.compileShader(e),!n.getShaderParameter(e,n.COMPILE_STATUS))throw n.getShaderInfoLog(e);var a=n.createProgram();if(n.attachShader(a,t),n.attachShader(a,e),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw n.getProgramInfoLog(a);return a}(e);e.useProgram(a);var r=new Float32Array(2*p).map((function(){return 2*Math.random()-1})),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,o);var i=e.getAttribLocation(a,"a_position");return e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),document.getElementById("root").appendChild(n),{gl:e,program:a}}function y(n,t,e,a,r,o){var i=n.getUniformLocation(t,"u_a"),c=n.getUniformLocation(t,"u_b"),s=n.getUniformLocation(t,"u_c"),u=n.getUniformLocation(t,"u_d");n.uniform1f(i,e),n.uniform1f(c,a),n.uniform1f(s,r),n.uniform1f(u,o)}var b=0;window.onload=function(){var n=Object(o.a)(r.a.mark((function n(){var t,e,a,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v();case 2:t=n.sent,m(!0),e=w(),a=e.gl,o=e.program,requestAnimationFrame((function n(e){var r,i=0;if(t){var c=t.get(["energy","spectralFlatness"]);i=c?10*c.energy:0,b+=c?c.energy/2:0,r=c?c.spectralFlatness:0}a.drawArrays(a.POINTS,0,p),y(a,o,Math.sin(b+e/1e4)-2,-2,-1.2,r<.05?2-i:2),requestAnimationFrame(n)}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()}],[[4,1,2]]]);
//# sourceMappingURL=main.d6711950.chunk.js.map